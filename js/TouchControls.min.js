THREE.TouchControls = function(camera, element) {
  this.action = null;
  this.speed = 1;
  let previousTouch = null;
  element.addEventListener("touchmove", (event) => {
    camera.rotation.order = "YXZ";
    if (previousTouch && (Math.PI / 2).toFixed(12) - 0 != Math.abs(camera.rotation.x.toFixed(12) - 0)) {
      camera.rotation.y -= (event.touches[0].pageX - previousTouch.pageX) / (500 / this.speed);
      camera.rotation.x -= (event.touches[0].pageY - previousTouch.pageY) / (500 / this.speed);
    }
    previousTouch = event.touches[0];
  });
  element.addEventListener("touchstart", (event) => {
    if (event.touches[1]) {
      this.action("hand", {
        type: "negative"
      });
    } else {
      if (typeof this.action == "function") {
        this.action("hand", {
          type: "positive"
        });
      }
    }
  });
  renderer.domElement.addEventListener("touchend", (event) => {
    previousTouch = null;
  });
};